<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Welcome!MokeSell</title>
        <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs"type="module"></script>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
        <link href="Style.css" rel="stylesheet">
        <link href="index.css" rel="stylesheet">
    </head>
    <body>
        <!-- overlay and Lottie container -->
        <div class="overlay" id="overlay">
            <div class="modal-content">
            <!-- lottie Player (DotLottie Component) -->
            <dotlottie-player 
                id="lottie-player" 
                src="https://lottie.host/db38cc8b-35c8-413d-b6f9-4f409d941b5e/szrstterbA.lottie" 
                background="transparent" 
                speed="1" 
                style="width: 300px; height: 300px;" 
                loop 
                autoplay>
            </dotlottie-player>
            <p>Account Required!</p>
            <p>You must be logged in to perform this action.</p>
            </div>
        </div>
        <header>
            <div class="container">
                <div class="navbar">
                    <div class="logo">
                        <a href="index.html"><img src="images/icon/icon1.png" width="125" alt="Logoicon"></a>
                    </div>
                    <nav>
                        <ul id="MenuItems">
                            <li><a href="fashion.html">Fashion</a></li>
                            <li><a href="homeliving.html">Home Living</a></li>
                            <li><a href="electronics.html">Electronics</a></li>
                            <li><a href="allcategories.html">All Categories</a></li>
                        </ul>
                    </nav>
                    <div class="right-section">
                        <div class="profile-container" id="profile-container">
                            <a href="loginsignup.html">
                              <span class="material-symbols-rounded">account_circle</span>
                              <span id="profile-text" class="clickable-text">Sign up/Login</span>
                            </a>
                        </div>
                        <a href="favorite.html" class="material-symbols-rounded" id="favorite">favorite</a>
                        <div class="cart-container" id="cart-container">
                            <span class="material-symbols-rounded">shopping_cart</span>
                        </div>
                        <div class="notification-container">
                            <div class="notification-icon" onclick="togglePopup()">
                                <span class="material-symbols-rounded">notifications</span>
                            </div>
                        </div>
                        <div class="chatbox-container" id="chatbox-container">
                            <span class="material-symbols-rounded">chat</span>
                        </div>
                        <button type="button">Sell</button>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <!--search bar-->
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search for an item">
                <button onclick="handleSearch()">Search</button>
            </div>    
            <!--carousel images-->
            <div class="carousel">
                <div class="carousel-images" id="carouselImages">
                    <img src="images/blackimage.jpg" alt="Image 1">
                    <img src="images/grey.png" alt="Image 2">
                    <img src="images/blackimage.jpg" alt="Image 3">
                    <img src="images/grey.png" alt="Image 4">
                    <img src="images/blackimage.jpg" alt="Image 5">
                    <img src="images/grey.png" alt="Image 6">
                </div>
                <div class="carousel-buttons">
                    <button onclick="prevSlide()">&#10094;</button>
                    <button onclick="nextSlide()">&#10095;</button>
                </div>
            </div>
            <!--categories boxes-->
            <div class="categories-boxes">
                <h1>What would you like to find?</h1>
                <div class="category-grid">
                    <div class="category-card">
                    <img src="images/blackimage.jpg" alt="Mobile Devices & Gadgets">
                    <p>Mobile Devices & Gadgets</p>
                    </div>
                    <div class="category-card">
                    <img src="images/grey.png" alt="PC, Laptops, 
                    PC/laptop parts">
                    <p>PC, Laptops, PC/laptop parts</p>
                    </div>
                    
                    <div class="category-card">
                    <img src="images/grey.png" alt="Man’s Fashion">
                    <p>Man’s Fashion </p>
                    </div>
                    <div class="category-card">
                    <img src="images/blackimage.jpg" alt="Women’s Fashion">
                    <p>Women’s Fashion</p>
                    </div>
                    <div class="category-card">
                    <img src="images/grey.png" alt="Furniture">
                    <p>Furniture</p>
                    </div>
                    <div class="category-card">
                    <img src="images/grey.png" alt="Kitchenware">
                    <p>Kitchenware</p>
                    </div>
                    <div class="category-card">
                    <img src="images/blackimage.jpg" alt="Home Decor">
                    <p>Home Decor</p>
                    </div>
                    <a href="#" class="see-all">See all categories</a>
                </div>
            </div>
        </main>
        <script>    
        // redirect users if not authenticated
            document.addEventListener('click', function(event) {
                const isAuthenticated = sessionStorage.getItem('isAuthenticated') === 'true';
                if (!isAuthenticated) {
                    showLottieAlert();
                }
            });
            // show Lottie animation as alert
            function showLottieAlert() {
                // show overlay with Lottie animation
                const overlay = document.getElementById('overlay');
                overlay.style.display = 'flex';  // show overlay
                //a timer for redirection 
              setTimeout(function() {
                window.location.href = 'loginsignup.html';  // redirect after 3 seconds
              }, 3000);
              }
        </script>
        <script src="script.js"></script>
        <script src="carousel.js"></script>
    </body>
</html>
